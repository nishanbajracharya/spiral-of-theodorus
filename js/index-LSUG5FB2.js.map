{
  "version": 3,
  "sources": ["../../src/index.ts"],
  "sourcesContent": ["import 'normalize.css';\n\nimport './style.css';\n\nfunction randomColor(alpha: number) {\n  return `rgba(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(\n    Math.random() * 255\n  )}, ${alpha})`;\n}\n\nconst canvas = document.createElement('canvas');\nconst ctx = canvas.getContext('2d')!;\ncanvas.width = window.innerWidth - 10;\ncanvas.height = window.innerHeight - 10;\n\nconst app = document.querySelector('#app')!;\n\napp.appendChild(canvas);\n\nconst mouse = {\n  x: 0,\n  y: 0,\n};\n\nlet spiralCount = 8;\nlet size = 30;\n\nconst query = window.location.search;\nif (query) {\n  const params = new URLSearchParams(query);\n\n  const count = params.get('count');\n  if (count) {\n    const input = parseInt(count);\n    if (Number.isInteger(input) && input > 0) {\n      spiralCount = input;\n    }\n  }\n\n  const sizeParam = params.get('size');\n  if (sizeParam) {\n    const input = parseInt(sizeParam);\n    if (Number.isInteger(input) && input > 0) {\n      size = input;\n    }\n  }\n}\n\nconst colors = Array(spiralCount)\n  .fill('')\n  .map(() => randomColor(0.5));\n\ncanvas.addEventListener('mousemove', (e) => {\n  e.clientX;\n  e.clientY;\n\n  mouse.x = e.clientX - canvas.offsetLeft;\n  mouse.y = e.clientY - canvas.offsetTop;\n});\n\nfunction draw() {\n  ctx.reset();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  let unit = size;\n\n  // Recursively draw triangle\n  let originX = canvas.width / 2;\n  let originY = canvas.height / 2;\n  let angle = 0;\n  for (let i = 0; i < spiralCount; i++) {\n    unit = unit * Math.sqrt(2);\n    ctx.save();\n    ctx.beginPath();\n    ctx.strokeStyle = '#fff';\n    ctx.fillStyle = colors[i];\n    ctx.translate(originX, originY);\n    ctx.moveTo(0, 0);\n    ctx.rotate(angle);\n    ctx.lineTo(0, -unit);\n    ctx.lineTo(-unit, 0);\n    ctx.lineTo(0, 0);\n    ctx.fill();\n    ctx.stroke();\n    ctx.closePath();\n    ctx.restore();\n\n    originX -= unit * Math.sin(-angle);\n    originY -= unit * Math.cos(-angle);\n    angle -= Math.PI / 4;\n  }\n\n  // Draw cursor\n  ctx.fillStyle = '#fff';\n  ctx.fillText(`(${mouse.x}, ${mouse.y})`, mouse.x, mouse.y);\n\n  requestAnimationFrame(draw);\n}\n\nrequestAnimationFrame(draw);\n"],
  "mappings": "MAIA,SAASA,EAAYC,EAAe,CAClC,MAAO,QAAQ,KAAK,MAAM,KAAK,OAAO,EAAI,GAAG,CAAC,KAAK,KAAK,MAAM,KAAK,OAAO,EAAI,GAAG,CAAC,KAAK,KAAK,MAC1F,KAAK,OAAO,EAAI,GAClB,CAAC,KAAKA,CAAK,GACb,CAEA,IAAMC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAMD,EAAO,WAAW,IAAI,EAClCA,EAAO,MAAQ,OAAO,WAAa,GACnCA,EAAO,OAAS,OAAO,YAAc,GAErC,IAAME,EAAM,SAAS,cAAc,MAAM,EAEzCA,EAAI,YAAYF,CAAM,EAEtB,IAAMG,EAAQ,CACZ,EAAG,EACH,EAAG,CACL,EAEIC,EAAc,EACdC,EAAO,GAELC,EAAQ,OAAO,SAAS,OAC9B,GAAIA,EAAO,CACT,IAAMC,EAAS,IAAI,gBAAgBD,CAAK,EAElCE,EAAQD,EAAO,IAAI,OAAO,EAChC,GAAIC,EAAO,CACT,IAAMC,EAAQ,SAASD,CAAK,EACxB,OAAO,UAAUC,CAAK,GAAKA,EAAQ,IACrCL,EAAcK,EAElB,CAEA,IAAMC,EAAYH,EAAO,IAAI,MAAM,EACnC,GAAIG,EAAW,CACb,IAAMD,EAAQ,SAASC,CAAS,EAC5B,OAAO,UAAUD,CAAK,GAAKA,EAAQ,IACrCJ,EAAOI,EAEX,CACF,CAEA,IAAME,EAAS,MAAMP,CAAW,EAC7B,KAAK,EAAE,EACP,IAAI,IAAMN,EAAY,EAAG,CAAC,EAE7BE,EAAO,iBAAiB,YAAcY,GAAM,CAC1CA,EAAE,QACFA,EAAE,QAEFT,EAAM,EAAIS,EAAE,QAAUZ,EAAO,WAC7BG,EAAM,EAAIS,EAAE,QAAUZ,EAAO,SAC/B,CAAC,EAED,SAASa,GAAO,CACdZ,EAAI,MAAM,EACVA,EAAI,UAAU,EAAG,EAAGD,EAAO,MAAOA,EAAO,MAAM,EAE/C,IAAIc,EAAOT,EAGPU,EAAUf,EAAO,MAAQ,EACzBgB,EAAUhB,EAAO,OAAS,EAC1BiB,EAAQ,EACZ,QAASC,EAAI,EAAGA,EAAId,EAAac,IAC/BJ,EAAOA,EAAO,KAAK,KAAK,CAAC,EACzBb,EAAI,KAAK,EACTA,EAAI,UAAU,EACdA,EAAI,YAAc,OAClBA,EAAI,UAAYU,EAAOO,CAAC,EACxBjB,EAAI,UAAUc,EAASC,CAAO,EAC9Bf,EAAI,OAAO,EAAG,CAAC,EACfA,EAAI,OAAOgB,CAAK,EAChBhB,EAAI,OAAO,EAAG,CAACa,CAAI,EACnBb,EAAI,OAAO,CAACa,EAAM,CAAC,EACnBb,EAAI,OAAO,EAAG,CAAC,EACfA,EAAI,KAAK,EACTA,EAAI,OAAO,EACXA,EAAI,UAAU,EACdA,EAAI,QAAQ,EAEZc,GAAWD,EAAO,KAAK,IAAI,CAACG,CAAK,EACjCD,GAAWF,EAAO,KAAK,IAAI,CAACG,CAAK,EACjCA,GAAS,KAAK,GAAK,EAIrBhB,EAAI,UAAY,OAChBA,EAAI,SAAS,IAAIE,EAAM,CAAC,KAAKA,EAAM,CAAC,IAAKA,EAAM,EAAGA,EAAM,CAAC,EAEzD,sBAAsBU,CAAI,CAC5B,CAEA,sBAAsBA,CAAI",
  "names": ["randomColor", "alpha", "canvas", "ctx", "app", "mouse", "spiralCount", "size", "query", "params", "count", "input", "sizeParam", "colors", "e", "draw", "unit", "originX", "originY", "angle", "i"]
}
